<!-- pages/appSCar/index/index.wxml -->
<view class="container shopcar_wrap">
  <view class="main">
    <view class="store_item" wx:for="{{orderList}}" wx:key="index">
      <!-- 店铺 -->
      <van-cell center border="{{false}}">
        <van-checkbox slot="icon" data-idx="{{index}}" value="{{item.cartData.length === item.result.length}}" bind:change="onChangeGruop"></van-checkbox>
        <view slot="title" class="store_title">
          <image src="/static/images/order/school-icon.png" mode="aspectFill" />
          {{item.name}}
        </view>
      </van-cell>
      <!-- 商品 -->
      <van-checkbox-group class="checkbox_group" value="{{ item.result }}" data-idx="{{index}}" bind:change="onChangeCheckbox">
        <van-swipe-cell wx:for="{{item.cartData}}" wx:for-index="idx" wx:for-item="val" wx:key="idx" right-width="{{ 50 }}" async-close bind:close="onClose">
          <van-checkbox custom-class="checkbox_swipecont" name="{{val.id}}" label-disabled >
            <view class="store_card">
              <view class="store_pic">
                <image src="{{val.image}}" mode="aspectFill" />
              </view>
              <view class="store_cont">
                <view class="store_info">
                  <view class="store_name van-ellipsis">{{val.name}}</view>
                  <view class="store_tags">
                    <text class="van-ellipsis" space="nbsp">女生  M码  裙装裙装裙装裙装裙装裙装裙装裙装</text>
                  </view>
                </view>
                <view class="store_price">
                  <view class="store_unitprice van-ellipsis">
                    ￥
                    <text>{{val.price}}</text>
                  </view>
                  <van-stepper class="num" data-index="{{index}}" data-idx="{{idx}}" value="{{ val.amount }}" bind:change="onChangeStepper" />
                </view>
              </view>
            </view>
          </van-checkbox>
          <van-button slot="right" custom-class="swipe_close" type="info" block>删除</van-button>
        </van-swipe-cell>
      </van-checkbox-group>
    </view>
  </view>
  <van-submit-bar custom-class="submit_bar" bar-class="bar_class ~shadow-blur" button-class="btn_class" price-class="price_class" price="{{ totalPrice*100 }}" button-text="提交订单" button-type="info" safe-area-inset-bottom="{{false}}" bind:submit="onClickButton">
    <van-checkbox value="{{ checkedAll }}" bind:change="onChangeCheckAll">全选</van-checkbox>
  </van-submit-bar>
</view>